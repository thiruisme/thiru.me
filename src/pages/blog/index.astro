---
import Layout from "../../components/Layout.astro";
import { getCollection } from "astro:content";
const posts = await getCollection("posts");
---
<Layout current="blog" title="All Posts â€“ Emerald Blog"> <main class="content">
  <h1>Blog Archive</h1>
  <div class="cards">
    {posts.map((p) => (
      <article class="card">
        <a href={`/blog/${p.slug}/`}>
          <img
            class="frame"
            src={p.data.thumbnail || "https://placehold.co/280x160?text=Thumbnail"}
            alt={p.data.title}
          />
          <div class="card-body">
            <div class="card-title">{p.data.title}</div>
            <p class="card-text">{p.data.excerpt ?? ""}</p>
          </div>
        </a>
      </article>
    ))}
  </div>
  </main>
</Layout>
